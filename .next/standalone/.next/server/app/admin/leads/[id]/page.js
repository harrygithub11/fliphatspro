(()=>{var e={};e.id=2582,e.ids=[2582],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},95047:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>o});var s=a(50482),r=a(69108),l=a(62563),i=a.n(l),n=a(68300),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);a.d(t,d);let o=["",{children:["admin",{children:["leads",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,62646)),"C:\\Users\\MISHTY5626\\Desktop\\Webhost\\newyearlp\\app\\admin\\leads\\[id]\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,66294)),"C:\\Users\\MISHTY5626\\Desktop\\Webhost\\newyearlp\\app\\admin\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,82917)),"C:\\Users\\MISHTY5626\\Desktop\\Webhost\\newyearlp\\app\\layout.tsx"],template:[()=>Promise.resolve().then(a.bind(a,12612)),"C:\\Users\\MISHTY5626\\Desktop\\Webhost\\newyearlp\\app\\template.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,69361,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\MISHTY5626\\Desktop\\Webhost\\newyearlp\\app\\admin\\leads\\[id]\\page.tsx"],u="/admin/leads/[id]/page",x={require:a,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/admin/leads/[id]/page",pathname:"/admin/leads/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},67840:(e,t,a)=>{Promise.resolve().then(a.bind(a,93658))},93658:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>D});var s=a(95344),r=a(3729),l=a(61351),i=a(16212),n=a(69436),d=a(15746),o=a(28412),c=a(17470),u=a(16802),x=a(1586),m=a(71206),h=a(40626),p=a(55794),f=a(69224);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let g=(0,f.Z)("PhoneCall",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}],["path",{d:"M14.05 2a9 9 0 0 1 8 7.94",key:"vmijpz"}],["path",{d:"M14.05 6A5 5 0 0 1 18 10",key:"13nbpp"}]]),j=(0,f.Z)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);var y=a(37121),v=a(81723),b=a(64290),N=a(51838),w=a(25545);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let k=(0,f.Z)("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);var _=a(36135);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let C=(0,f.Z)("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);var S=a(92549),z=a(93601);let P=(e,t)=>{try{let t=JSON.parse(e);if("booking_form"===t.source&&"form_submitted"===t.action)return`ðŸ“ž Requested a strategy call${t.store?` for ${t.store}`:""}`;if(t.action)return t.action.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase());return e}catch(t){return e}};function D({params:e}){let[t,a]=(0,r.useState)("timeline"),[f,D]=(0,r.useState)(""),[T,Z]=(0,r.useState)(!1),[R,A]=(0,r.useState)(!0),[$,M]=(0,r.useState)(null),[V,I]=(0,r.useState)(!1),[O,F]=(0,r.useState)(!1),[L,Q]=(0,r.useState)(""),[U,q]=(0,r.useState)(""),[E,W]=(0,r.useState)(""),[Y,G]=(0,r.useState)("medium"),[K,B]=(0,r.useState)(""),[H,J]=(0,r.useState)("initiated"),[X,ee]=(0,r.useState)(!1),[et,ea]=(0,r.useState)(""),[es,er]=(0,r.useState)(""),[el,ei]=(0,r.useState)(!1),[en,ed]=(0,r.useState)(""),[eo,ec]=(0,r.useState)(""),[eu,ex]=(0,r.useState)("");if((0,r.useEffect)(()=>{(async function(){try{let t=await fetch(`/api/admin/leads/${e.id}`),a=await t.json();a.success&&M(a.data)}catch(e){console.error("Failed to load profile",e)}finally{A(!1)}})()},[e.id]),R)return s.jsx("div",{className:"p-10 text-center",children:"Loading 360 View..."});if(!$)return s.jsx("div",{className:"p-10 text-center text-red-500",children:"Lead not found."});let{profile:em,deals:eh,tasks:ep,timeline:ef,files:eg}=$,ej=async()=>{try{let t=await fetch(`/api/admin/leads/${e.id}`),a=await t.json();a.success&&M(a.data)}catch(e){console.error(e)}},ey=async(e="internal_note",t)=>{let a=t||f;if(a.trim()){Z(!0);try{(await fetch("/api/admin/interactions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({customer_id:em.id,type:e,content:a})})).ok&&(D(""),await ej())}catch(e){console.error(e)}finally{Z(!1)}}},ev=e=>{"call"===e&&(ey("call_log",`Outgoing call initiated to ${em.phone}`),window.location.href=`tel:${em.phone}`),"whatsapp"===e&&(ey("whatsapp_msg",`Opened WhatsApp chat with ${em.name}`),window.open(`https://wa.me/${em.phone.replace(/[^0-9]/g,"")}`,"_blank")),"proposal"===e&&ey("system_event","Started creating a new proposal.")},eb=async(t,a)=>{let s={...$};M({...$,profile:{...$.profile,[t]:a}});try{if(!(await fetch(`/api/admin/leads/${e.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({[t]:a})})).ok)throw Error("Update failed");ey("system_event",`Updated ${t} to ${a}`)}catch(e){console.error(e),M(s)}},eN=async()=>{if(!L)return;let e=U;U&&E?e=`${U} ${E}:00`:U&&(e=`${U} 00:00:00`);try{await fetch("/api/admin/tasks",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:L,due_date:e,priority:Y,customer_id:em.id})}),I(!1),Q(""),q(""),W(""),ej()}catch(e){console.error(e)}},ew=async()=>{if(K)try{await fetch("/api/admin/deals",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:K,status:H,customer_id:em.id})}),F(!1),B(""),ej()}catch(e){console.error(e)}},ek=async(e,t)=>{let a="done"===t?"open":"done",s={...$},r=ep.map(t=>t.id===e?{...t,status:a}:t);M({...$,tasks:r});try{await fetch("/api/admin/tasks",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e,status:a})})}catch(e){M(s)}},e_=async(e,t,a)=>{let s={...$},r=ep.map(s=>s.id===e?{...s,[t]:a}:s);M({...$,tasks:r});try{await fetch("/api/admin/tasks",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e,[t]:a})})}catch(e){M(s)}},eC=async(e,t,a)=>{let s={...$},r=eh.map(s=>s.id===e?{...s,[t]:a}:s);M({...$,deals:r});try{await fetch("/api/admin/deals",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e,[t]:a})}),ey("system_event",`Updated Deal #${e} ${t} to ${a}`)}catch(e){M(s)}},eS=async()=>{if(et&&es)try{await fetch("/api/admin/files",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({customer_id:em.id,file_name:et,file_url:es,file_type:"link"})}),ee(!1),ea(""),er(""),ej()}catch(e){console.error(e)}},ez=async()=>{if(!en||!eo){alert("Please fill in all fields");return}try{let e=await fetch("/api/admin/proposals",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({customer_id:em.id,title:en,amount:eo,content:eu})}),t=await e.json();if(!t.success){alert("Failed: "+t.message);return}ei(!1),ed(""),ec(""),ex(""),ej(),alert("Proposal Created Successfully!")}catch(e){console.error(e),alert("Error creating proposal")}},eP=()=>{try{if("string"==typeof em.tags)return JSON.parse(em.tags);if(Array.isArray(em.tags))return em.tags;return[]}catch{return[]}},eD=e=>e?e.startsWith("http://")||e.startsWith("https://")?e:`https://${e}`:"#";return(0,s.jsxs)("div",{className:"grid grid-cols-12 gap-6 h-[calc(100vh-8rem)]",children:[(0,s.jsxs)("div",{className:"col-span-3 flex flex-col gap-6 overflow-y-auto pr-2",children:[(0,s.jsxs)(l.Zb,{children:[(0,s.jsxs)(l.Ol,{className:"pb-4",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start",children:[s.jsx("div",{className:"h-16 w-16 rounded-full bg-primary/10 flex items-center justify-center text-2xl font-bold text-primary mb-4",children:em.name.charAt(0)}),(0,s.jsxs)(c.Ph,{value:em.score,onValueChange:e=>eb("score",e),children:[s.jsx(c.i4,{className:"w-[100px] h-8 text-xs uppercase tracking-wide border border-red-200 bg-red-50 text-red-700 hover:bg-red-100 p-2 rounded-md",children:s.jsx(c.ki,{placeholder:"Score"})}),(0,s.jsxs)(c.Bw,{children:[s.jsx(c.Ql,{value:"hot",children:"HOT \uD83D\uDD25"}),s.jsx(c.Ql,{value:"warm",children:"WARM \uD83C\uDF24ï¸"}),s.jsx(c.Ql,{value:"cold",children:"COLD â„ï¸"})]})]})]}),s.jsx(l.ll,{className:"text-xl",children:em.name}),s.jsx(l.SZ,{className:"flex items-center gap-2 mt-2",children:(0,s.jsxs)(c.Ph,{value:em.stage,onValueChange:e=>eb("stage",e),children:[s.jsx(c.i4,{className:"h-8 border text-sm p-2 bg-background hover:bg-muted/50 w-[160px] rounded-md",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:`w-2 h-2 rounded-full inline-block ${"won"===em.stage?"bg-green-500":"bg-yellow-500"}`}),s.jsx(c.ki,{placeholder:"Stage"})]})}),(0,s.jsxs)(c.Bw,{children:[s.jsx(c.Ql,{value:"new",children:"New Lead"}),s.jsx(c.Ql,{value:"contacted",children:"Contacted"}),s.jsx(c.Ql,{value:"proposal_sent",children:"Proposal Sent"}),s.jsx(c.Ql,{value:"negotiation",children:"Negotiation"}),s.jsx(c.Ql,{value:"won",children:"Won Deal \uD83D\uDCB0"}),s.jsx(c.Ql,{value:"lost",children:"Lost"})]})]})})]}),(0,s.jsxs)(l.aY,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid gap-3 text-sm",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 text-muted-foreground",children:[s.jsx(m.Z,{className:"w-4 h-4"}),s.jsx("span",{className:"text-foreground truncate",children:em.email})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3 text-muted-foreground",children:[s.jsx(h.Z,{className:"w-4 h-4"}),s.jsx("span",{className:"text-foreground",children:em.phone})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3 text-muted-foreground",children:[s.jsx(p.Z,{className:"w-4 h-4"}),(0,s.jsxs)("span",{children:["Added ",new Date(em.created_at).toLocaleDateString()]})]})]}),s.jsx(o.Separator,{}),(0,s.jsxs)("div",{children:[s.jsx("p",{className:"text-xs font-semibold text-muted-foreground mb-2",children:"TAGS"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:eP().length>0?eP().map(e=>(0,s.jsxs)(n.C,{variant:"secondary",className:"text-xs font-normal",children:["#",e]},e)):s.jsx("span",{className:"text-xs text-muted-foreground",children:"No tags"})})]}),s.jsx(o.Separator,{}),(0,s.jsxs)("div",{children:[s.jsx("p",{className:"text-xs font-semibold text-muted-foreground mb-2",children:"OWNER"}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-zinc-200 flex items-center justify-center text-xs",children:"A"}),em.owner||"Unassigned"]})]})]})]}),(0,s.jsxs)(l.Zb,{children:[s.jsx(l.Ol,{className:"py-4",children:s.jsx(l.ll,{className:"text-sm font-medium",children:"Quick Actions"})}),(0,s.jsxs)(l.aY,{className:"grid gap-2",children:[(0,s.jsxs)(i.z,{variant:"outline",className:"w-full justify-start gap-2",onClick:()=>ev("call"),children:[s.jsx(g,{className:"w-4 h-4"})," Log Call"]}),(0,s.jsxs)(i.z,{variant:"outline",className:"w-full justify-start gap-2",onClick:()=>ev("whatsapp"),children:[s.jsx(j,{className:"w-4 h-4"})," WhatsApp"]}),(0,s.jsxs)(u.Vq,{open:el,onOpenChange:ei,children:[s.jsx(u.hg,{asChild:!0,children:(0,s.jsxs)(i.z,{variant:"outline",className:"w-full justify-start gap-2",children:[s.jsx(y.Z,{className:"w-4 h-4"})," Create Proposal"]})}),(0,s.jsxs)(u.cZ,{children:[s.jsx(u.fK,{children:s.jsx(u.$N,{children:"Create New Proposal"})}),(0,s.jsxs)("div",{className:"space-y-4 py-4",children:[(0,s.jsxs)("div",{className:"grid gap-2",children:[s.jsx(x._,{children:"Project / Proposal Title"}),s.jsx(S.I,{placeholder:"e.g. Website Redesign...",value:en,onChange:e=>ed(e.target.value)})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[s.jsx(x._,{children:"Estimated Amount (â‚¹)"}),s.jsx(S.I,{type:"number",placeholder:"50000",value:eo,onChange:e=>ec(e.target.value)})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[s.jsx(x._,{children:"Scope / Description"}),s.jsx(z.g,{placeholder:"Outline the deliverables...",value:eu,onChange:e=>ex(e.target.value)})]}),s.jsx(i.z,{onClick:ez,className:"w-full",children:"Generate Proposal Draft"})]})]})]})]})]})]}),(0,s.jsxs)("div",{className:"col-span-5 flex flex-col gap-6 overflow-y-auto pr-2",children:[eh.length>0&&(0,s.jsxs)(l.Zb,{className:"bg-slate-900 text-white border-none shadow-xl relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-10",children:s.jsx(v.Z,{className:"w-24 h-24"})}),(0,s.jsxs)(l.Ol,{className:"pb-2",children:[s.jsx(l.ll,{className:"text-sm font-medium text-slate-300",children:"Active Project Tracker"}),(0,s.jsxs)(l.SZ,{className:"text-slate-400 text-xs",children:["Showing status for latest deal: ",(0,s.jsxs)("span",{className:"text-white font-bold",children:["#",eh[0].id]})]})]}),s.jsx(l.aY,{className:"pb-6",children:s.jsx("div",{className:"flex items-center justify-between relative mt-2",children:["initiated","paid","processing","delivered"].map((e,t,a)=>{let r=eh[0].status,l=a.indexOf(e),i=a.indexOf(r),n=l<=i,d=l===i;return(0,s.jsxs)("div",{onClick:()=>eC(eh[0].id,"status",e),className:"flex flex-col items-center relative z-10 w-full cursor-pointer group",children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold transition-all duration-300 ${n?"bg-green-500 text-white shadow-lg shadow-green-900/20":"bg-slate-700 text-slate-400 group-hover:bg-slate-600"} ${d?"ring-2 ring-white scale-110":""}`,children:n&&!d?s.jsx(b.Z,{className:"w-4 h-4"}):t+1}),s.jsx("span",{className:`text-[10px] mt-2 font-medium uppercase tracking-wide transition-colors ${n?"text-green-400":"text-slate-500 group-hover:text-slate-400"}`,children:e.replace("_"," ")}),t!==a.length-1&&s.jsx("div",{className:`absolute top-4 left-1/2 w-full h-[2px] -z-10 transition-colors duration-500 ${l<i?"bg-green-500":"bg-slate-800"}`})]},e)})})})]}),(0,s.jsxs)(l.Zb,{children:[(0,s.jsxs)(l.Ol,{className:"py-4 flex flex-row items-center justify-between",children:[s.jsx(l.ll,{className:"text-base",children:"Deals & Proposals"}),(0,s.jsxs)(u.Vq,{open:O,onOpenChange:F,children:[s.jsx(u.hg,{asChild:!0,children:s.jsx(i.z,{size:"sm",variant:"ghost",children:s.jsx(N.Z,{className:"w-4 h-4"})})}),(0,s.jsxs)(u.cZ,{children:[s.jsx(u.fK,{children:s.jsx(u.$N,{children:"Create New Deal"})}),(0,s.jsxs)("div",{className:"space-y-4 py-4",children:[(0,s.jsxs)("div",{className:"grid gap-2",children:[s.jsx(x._,{children:"Amount (â‚¹)"}),s.jsx(S.I,{type:"number",value:K,onChange:e=>B(e.target.value)})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[s.jsx(x._,{children:"Initial Status"}),(0,s.jsxs)(c.Ph,{value:H,onValueChange:J,children:[s.jsx(c.i4,{children:s.jsx(c.ki,{})}),(0,s.jsxs)(c.Bw,{children:[s.jsx(c.Ql,{value:"getting_ready",children:"Draft/Proposal"}),s.jsx(c.Ql,{value:"initiated",children:"Initiated"}),s.jsx(c.Ql,{value:"paid",children:"Paid"})]})]})]}),s.jsx(i.z,{onClick:ew,children:"Create Deal"})]})]})]})]}),(0,s.jsxs)(l.aY,{className:"space-y-3",children:[0===eh.length&&s.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No active deals."}),eh.map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg bg-zinc-50 dark:bg-zinc-900/50",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"font-semibold text-sm",children:["Deal #",e.id]}),s.jsx("div",{className:"text-xs text-muted-foreground",children:new Date(e.created_at).toLocaleDateString()})]}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsxs)("div",{className:"font-bold text-sm",children:["â‚¹",e.amount]}),(0,s.jsxs)(c.Ph,{value:e.status,onValueChange:t=>eC(e.id,"status",t),children:[s.jsx(c.i4,{className:"h-6 w-[90px] text-[10px] border-none p-0 justify-end shadow-none hover:bg-transparent",children:s.jsx(n.C,{variant:"paid"===e.status||"won"===e.status?"default":"secondary",className:"h-5 px-2 hover:bg-primary/90 pointer-events-none",children:e.status})}),(0,s.jsxs)(c.Bw,{children:[s.jsx(c.Ql,{value:"draft",children:"Draft"}),s.jsx(c.Ql,{value:"getting_ready",children:"Reviewing"}),s.jsx(c.Ql,{value:"initiated",children:"Initiated"}),s.jsx(c.Ql,{value:"paid",children:"Paid âœ…"}),s.jsx(c.Ql,{value:"cancelled",children:"Cancelled âŒ"})]})]})]})]},e.id))]})]}),(0,s.jsxs)(l.Zb,{className:"flex-1",children:[(0,s.jsxs)(l.Ol,{className:"py-4 flex flex-row items-center justify-between",children:[s.jsx(l.ll,{className:"text-base",children:"Tasks & Follow-ups"}),(0,s.jsxs)(u.Vq,{open:V,onOpenChange:I,children:[s.jsx(u.hg,{asChild:!0,children:s.jsx(i.z,{size:"sm",variant:"ghost",children:s.jsx(N.Z,{className:"w-4 h-4"})})}),(0,s.jsxs)(u.cZ,{children:[s.jsx(u.fK,{children:s.jsx(u.$N,{children:"Add New Task"})}),(0,s.jsxs)("div",{className:"space-y-4 py-4",children:[(0,s.jsxs)("div",{className:"grid gap-2",children:[s.jsx(x._,{children:"Task Title"}),s.jsx(S.I,{placeholder:"Follow up call...",value:L,onChange:e=>Q(e.target.value)})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"grid gap-2",children:[s.jsx(x._,{children:"Due Date"}),s.jsx(S.I,{type:"date",value:U,onChange:e=>q(e.target.value)})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[s.jsx(x._,{children:"Time"}),s.jsx(S.I,{type:"time",value:E,onChange:e=>W(e.target.value)})]})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[s.jsx(x._,{children:"Priority"}),(0,s.jsxs)(c.Ph,{value:Y,onValueChange:G,children:[s.jsx(c.i4,{children:s.jsx(c.ki,{})}),(0,s.jsxs)(c.Bw,{children:[s.jsx(c.Ql,{value:"high",children:"High"}),s.jsx(c.Ql,{value:"medium",children:"Medium"}),s.jsx(c.Ql,{value:"low",children:"Low"})]})]})]}),s.jsx(i.z,{onClick:eN,children:"Save Task"})]})]})]})]}),(0,s.jsxs)(l.aY,{className:"space-y-0",children:[0===ep.length&&s.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No pending tasks."}),ep.map((e,t)=>(0,s.jsxs)("div",{className:`flex items-start gap-3 p-3 ${t!==ep.length-1?"border-b":""}`,children:[s.jsx("button",{onClick:()=>ek(e.id,e.status),className:`mt-0.5 w-4 h-4 rounded border flex items-center justify-center transition-colors ${"done"===e.status?"bg-green-500 border-green-500 text-white":"border-zinc-300 hover:border-zinc-400"}`,children:"done"===e.status&&s.jsx(b.Z,{className:"w-3 h-3"})}),(0,s.jsxs)("div",{className:"flex-1",children:[s.jsx("p",{className:`text-sm font-medium ${"done"===e.status&&"line-through text-muted-foreground"}`,children:e.title}),(0,s.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,s.jsxs)(c.Ph,{value:e.priority,onValueChange:t=>e_(e.id,"priority",t),children:[s.jsx(c.i4,{className:"h-4 p-0 border-none shadow-none w-auto",children:s.jsx(n.C,{variant:"outline",className:`text-[10px] px-1 py-0 h-4 hover:bg-muted cursor-pointer ${"high"===e.priority?"text-red-500 border-red-200 bg-red-50":""}`,children:e.priority||"Normal"})}),(0,s.jsxs)(c.Bw,{children:[s.jsx(c.Ql,{value:"high",children:"High"}),s.jsx(c.Ql,{value:"medium",children:"Medium"}),s.jsx(c.Ql,{value:"low",children:"Low"})]})]}),e.due_date&&(0,s.jsxs)("div",{className:`flex items-center gap-1 text-[10px] ${"done"!==e.status&&"text-red-500 font-medium"}`,children:[s.jsx(w.Z,{className:"w-3 h-3"}),new Date(e.due_date).toLocaleString([],{year:"numeric",month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit"})]})]})]})]},e.id))]})]})]}),s.jsx("div",{className:"col-span-4 flex flex-col h-full overflow-hidden",children:s.jsx(l.Zb,{className:"h-full flex flex-col shadow-none border-l-0 rounded-l-none bg-transparent",children:(0,s.jsxs)(d.mQ,{defaultValue:"timeline",className:"flex-1 flex flex-col h-full",children:[s.jsx("div",{className:"px-4 pt-4 shrink-0",children:(0,s.jsxs)(d.dr,{className:"w-full grid grid-cols-2",children:[s.jsx(d.SP,{value:"timeline",children:"Timeline"}),s.jsx(d.SP,{value:"files",children:"Files"})]})}),(0,s.jsxs)(d.nU,{value:"timeline",className:"flex-1 flex flex-col overflow-hidden mt-0",children:[(0,s.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-6",children:[0===ef.length&&s.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No history yet."}),ef.map((e,t)=>(0,s.jsxs)("div",{className:"flex gap-4 relative",children:[t!==ef.length-1&&s.jsx("div",{className:"absolute left-4 top-8 bottom-[-24px] w-px bg-zinc-200 dark:bg-zinc-800"}),e.created_by_name?s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center shrink-0 z-10 text-white text-xs font-bold
                                                ${"Admin User"===e.created_by_name?"bg-blue-500":"John Doe"===e.created_by_name?"bg-green-500":"Sarah Smith"===e.created_by_name?"bg-purple-500":"bg-gray-500"}`,children:e.created_by_name.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2)}):(0,s.jsxs)("div",{className:`w-8 h-8 rounded-full flex items-center justify-center shrink-0 z-10 
                                                ${"call_log"===e.type?"bg-blue-100 text-blue-600":"whatsapp_msg"===e.type?"bg-green-100 text-green-600":"system_event"===e.type?"bg-zinc-100 text-zinc-600":"bg-purple-100 text-purple-600"}`,children:["call_log"===e.type&&s.jsx(g,{className:"w-4 h-4"}),"whatsapp_msg"===e.type&&s.jsx(j,{className:"w-4 h-4"}),"system_event"===e.type&&s.jsx(y.Z,{className:"w-4 h-4"})]}),(0,s.jsxs)("div",{className:"flex-1 pb-1",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-xs font-semibold",children:e.created_by_name||"System"}),s.jsx("span",{className:"text-[10px] text-muted-foreground",children:new Date(e.created_at).toLocaleTimeString()})]}),s.jsx("div",{className:"text-xs bg-white dark:bg-zinc-900 border p-3 rounded-lg mt-1 shadow-sm",children:P(e.content,e.type)})]})]},e.id))]}),(0,s.jsxs)("div",{className:"p-4 bg-zinc-50 dark:bg-zinc-900 border-t shrink-0",children:[s.jsx(z.g,{placeholder:"Type a note, or log a call...",className:"min-h-[80px] mb-2 bg-white dark:bg-black",value:f,onChange:e=>D(e.target.value)}),(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[s.jsx("div",{className:"flex gap-2",children:s.jsx(i.z,{variant:"ghost",size:"icon",className:"h-8 w-8",children:s.jsx(k,{className:"w-4 h-4"})})}),(0,s.jsxs)(i.z,{size:"sm",className:"gap-2",onClick:()=>ey(),disabled:T,children:[s.jsx(_.Z,{className:"w-3 h-3"})," ",T?"Saving...":"Log Activity"]})]})]})]}),(0,s.jsxs)(d.nU,{value:"files",className:"p-4",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-sm font-semibold",children:"Attachments & Links"}),(0,s.jsxs)(u.Vq,{open:X,onOpenChange:ee,children:[s.jsx(u.hg,{asChild:!0,children:(0,s.jsxs)(i.z,{size:"sm",variant:"outline",children:[s.jsx(N.Z,{className:"w-4 h-4 mr-2"})," Add Link"]})}),(0,s.jsxs)(u.cZ,{children:[s.jsx(u.fK,{children:s.jsx(u.$N,{children:"Add File or Link"})}),(0,s.jsxs)("div",{className:"space-y-4 py-4",children:[(0,s.jsxs)("div",{className:"grid gap-2",children:[s.jsx(x._,{children:"File Name"}),s.jsx(S.I,{placeholder:"Proposal V1...",value:et,onChange:e=>ea(e.target.value)})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[s.jsx(x._,{children:"URL / Link"}),s.jsx(S.I,{placeholder:"https://docs.google.com/...",value:es,onChange:e=>er(e.target.value)})]}),s.jsx(i.z,{onClick:eS,children:"Save Attachment"})]})]})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[0===(eg||[]).length&&s.jsx("p",{className:"text-sm text-muted-foreground text-center py-10",children:"No files uploaded yet."}),(eg||[]).map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-zinc-50 dark:hover:bg-zinc-900 transition-colors",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-10 w-10 bg-primary/10 rounded flex items-center justify-center text-primary",children:s.jsx(k,{className:"w-5 h-5"})}),(0,s.jsxs)("div",{children:[s.jsx("a",{href:eD(e.file_url),target:"_blank",rel:"noreferrer",className:"text-sm font-medium hover:underline block",children:e.file_name}),s.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(e.created_at).toLocaleDateString()})]})]}),s.jsx("a",{href:eD(e.file_url),target:"_blank",rel:"noreferrer",children:s.jsx(i.z,{size:"icon",variant:"ghost",className:"h-8 w-8 text-muted-foreground",children:s.jsx(C,{className:"w-4 h-4"})})})]},e.id))]})]})]})})})]})}},16802:(e,t,a)=>{"use strict";a.d(t,{$N:()=>f,Be:()=>g,GG:()=>u,Vq:()=>d,cN:()=>p,cZ:()=>m,fK:()=>h,hg:()=>o});var s=a(95344),r=a(3729),l=a(87383),i=a(14513),n=a(91626);let d=l.fC,o=l.xz,c=l.h_,u=l.x8,x=r.forwardRef(({className:e,...t},a)=>s.jsx(l.aV,{ref:a,className:(0,n.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));x.displayName=l.aV.displayName;let m=r.forwardRef(({className:e,children:t,...a},r)=>(0,s.jsxs)(c,{children:[s.jsx(x,{}),(0,s.jsxs)(l.VY,{ref:r,className:(0,n.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...a,children:[t,(0,s.jsxs)(l.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(i.Z,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));m.displayName=l.VY.displayName;let h=({className:e,...t})=>s.jsx("div",{className:(0,n.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});h.displayName="DialogHeader";let p=({className:e,...t})=>s.jsx("div",{className:(0,n.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});p.displayName="DialogFooter";let f=r.forwardRef(({className:e,...t},a)=>s.jsx(l.Dx,{ref:a,className:(0,n.cn)("text-lg font-semibold leading-none tracking-tight",e),...t}));f.displayName=l.Dx.displayName;let g=r.forwardRef(({className:e,...t},a)=>s.jsx(l.dk,{ref:a,className:(0,n.cn)("text-sm text-muted-foreground",e),...t}));g.displayName=l.dk.displayName},1586:(e,t,a)=>{"use strict";a.d(t,{_:()=>o});var s=a(95344),r=a(3729),l=a(91675),i=a(49247),n=a(91626);let d=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=r.forwardRef(({className:e,...t},a)=>s.jsx(l.f,{ref:a,className:(0,n.cn)(d(),e),...t}));o.displayName=l.f.displayName},17470:(e,t,a)=>{"use strict";a.d(t,{Bw:()=>p,Ph:()=>c,Ql:()=>f,i4:()=>x,ki:()=>u});var s=a(95344),r=a(3729),l=a(55775),i=a(25390),n=a(37545),d=a(62312),o=a(91626);let c=l.fC;l.ZA;let u=l.B4,x=r.forwardRef(({className:e,children:t,...a},r)=>(0,s.jsxs)(l.xz,{ref:r,className:(0,o.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...a,children:[t,s.jsx(l.JO,{asChild:!0,children:s.jsx(i.Z,{className:"h-4 w-4 opacity-50"})})]}));x.displayName=l.xz.displayName;let m=r.forwardRef(({className:e,...t},a)=>s.jsx(l.u_,{ref:a,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(n.Z,{className:"h-4 w-4"})}));m.displayName=l.u_.displayName;let h=r.forwardRef(({className:e,...t},a)=>s.jsx(l.$G,{ref:a,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(i.Z,{className:"h-4 w-4"})}));h.displayName=l.$G.displayName;let p=r.forwardRef(({className:e,children:t,position:a="popper",...r},i)=>s.jsx(l.h_,{children:(0,s.jsxs)(l.VY,{ref:i,className:(0,o.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===a&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:a,...r,children:[s.jsx(m,{}),s.jsx(l.l_,{className:(0,o.cn)("p-1","popper"===a&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(h,{})]})}));p.displayName=l.VY.displayName,r.forwardRef(({className:e,...t},a)=>s.jsx(l.__,{ref:a,className:(0,o.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t})).displayName=l.__.displayName;let f=r.forwardRef(({className:e,children:t,...a},r)=>(0,s.jsxs)(l.ck,{ref:r,className:(0,o.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...a,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(l.wU,{children:s.jsx(d.Z,{className:"h-4 w-4"})})}),s.jsx(l.eT,{children:t})]}));f.displayName=l.ck.displayName,r.forwardRef(({className:e,...t},a)=>s.jsx(l.Z0,{ref:a,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",e),...t})).displayName=l.Z0.displayName},28412:(e,t,a)=>{"use strict";a.r(t),a.d(t,{Separator:()=>u});var s=a(95344),r=a(3729);a(81202);var l=a(32751),i=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let a=(0,l.Z8)(`Primitive.${t}`),i=r.forwardRef((e,r)=>{let{asChild:l,...i}=e,n=l?a:t;return(0,s.jsx)(n,{...i,ref:r})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{}),n="horizontal",d=["horizontal","vertical"],o=r.forwardRef((e,t)=>{let{decorative:a,orientation:r=n,...l}=e,o=d.includes(r)?r:n;return(0,s.jsx)(i.div,{"data-orientation":o,...a?{role:"none"}:{"aria-orientation":"vertical"===o?o:void 0,role:"separator"},...l,ref:t})});o.displayName="Separator";var c=a(91626);let u=r.forwardRef(({className:e,orientation:t="horizontal",decorative:a=!0,...r},l)=>s.jsx(o,{ref:l,decorative:a,orientation:t,className:(0,c.cn)("shrink-0 bg-border","horizontal"===t?"h-[1px] w-full":"h-full w-[1px]",e),...r}));u.displayName=o.displayName},15746:(e,t,a)=>{"use strict";a.d(t,{SP:()=>o,dr:()=>d,mQ:()=>n,nU:()=>c});var s=a(95344),r=a(3729),l=a(89128),i=a(91626);let n=l.fC,d=r.forwardRef(({className:e,...t},a)=>s.jsx(l.aV,{ref:a,className:(0,i.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));d.displayName=l.aV.displayName;let o=r.forwardRef(({className:e,...t},a)=>s.jsx(l.xz,{ref:a,className:(0,i.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));o.displayName=l.xz.displayName;let c=r.forwardRef(({className:e,...t},a)=>s.jsx(l.VY,{ref:a,className:(0,i.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));c.displayName=l.VY.displayName},93601:(e,t,a)=>{"use strict";a.d(t,{g:()=>i});var s=a(95344),r=a(3729),l=a(91626);let i=r.forwardRef(({className:e,...t},a)=>s.jsx("textarea",{className:(0,l.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:a,...t}));i.displayName="Textarea"},55794:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(69224).Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]])},64290:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(69224).Z)("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},51838:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(69224).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},81723:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(69224).Z)("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]])},62646:(e,t,a)=>{"use strict";a.r(t),a.d(t,{$$typeof:()=>l,__esModule:()=>r,default:()=>i});let s=(0,a(86843).createProxy)(String.raw`C:\Users\MISHTY5626\Desktop\Webhost\newyearlp\app\admin\leads\[id]\page.tsx`),{__esModule:r,$$typeof:l}=s,i=s.default},34504:(e,t,a)=>{"use strict";a.d(t,{Pc:()=>b,ck:()=>T,fC:()=>D});var s=a(3729),r=a(85222),l=a(87290),i=a(31405),n=a(98462),d=a(99048),o=a(74141),c=a(2256),u=a(33183),x=a(3975),m=a(95344),h="rovingFocusGroup.onEntryFocus",p={bubbles:!1,cancelable:!0},f="RovingFocusGroup",[g,j,y]=(0,l.B)(f),[v,b]=(0,n.b)(f,[y]),[N,w]=v(f),k=s.forwardRef((e,t)=>(0,m.jsx)(g.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,m.jsx)(g.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,m.jsx)(_,{...e,ref:t})})}));k.displayName=f;var _=s.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:a,orientation:l,loop:n=!1,dir:d,currentTabStopId:g,defaultCurrentTabStopId:y,onCurrentTabStopIdChange:v,onEntryFocus:b,preventScrollOnEntryFocus:w=!1,...k}=e,_=s.useRef(null),C=(0,i.e)(t,_),S=(0,x.gm)(d),[z,D]=(0,u.T)({prop:g,defaultProp:y??null,onChange:v,caller:f}),[T,Z]=s.useState(!1),R=(0,c.W)(b),A=j(a),$=s.useRef(!1),[M,V]=s.useState(0);return s.useEffect(()=>{let e=_.current;if(e)return e.addEventListener(h,R),()=>e.removeEventListener(h,R)},[R]),(0,m.jsx)(N,{scope:a,orientation:l,dir:S,loop:n,currentTabStopId:z,onItemFocus:s.useCallback(e=>D(e),[D]),onItemShiftTab:s.useCallback(()=>Z(!0),[]),onFocusableItemAdd:s.useCallback(()=>V(e=>e+1),[]),onFocusableItemRemove:s.useCallback(()=>V(e=>e-1),[]),children:(0,m.jsx)(o.WV.div,{tabIndex:T||0===M?-1:0,"data-orientation":l,...k,ref:C,style:{outline:"none",...e.style},onMouseDown:(0,r.Mj)(e.onMouseDown,()=>{$.current=!0}),onFocus:(0,r.Mj)(e.onFocus,e=>{let t=!$.current;if(e.target===e.currentTarget&&t&&!T){let t=new CustomEvent(h,p);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){let e=A().filter(e=>e.focusable);P([e.find(e=>e.active),e.find(e=>e.id===z),...e].filter(Boolean).map(e=>e.ref.current),w)}}$.current=!1}),onBlur:(0,r.Mj)(e.onBlur,()=>Z(!1))})})}),C="RovingFocusGroupItem",S=s.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:a,focusable:l=!0,active:i=!1,tabStopId:n,children:c,...u}=e,x=(0,d.M)(),h=n||x,p=w(C,a),f=p.currentTabStopId===h,y=j(a),{onFocusableItemAdd:v,onFocusableItemRemove:b,currentTabStopId:N}=p;return s.useEffect(()=>{if(l)return v(),()=>b()},[l,v,b]),(0,m.jsx)(g.ItemSlot,{scope:a,id:h,focusable:l,active:i,children:(0,m.jsx)(o.WV.span,{tabIndex:f?0:-1,"data-orientation":p.orientation,...u,ref:t,onMouseDown:(0,r.Mj)(e.onMouseDown,e=>{l?p.onItemFocus(h):e.preventDefault()}),onFocus:(0,r.Mj)(e.onFocus,()=>p.onItemFocus(h)),onKeyDown:(0,r.Mj)(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey){p.onItemShiftTab();return}if(e.target!==e.currentTarget)return;let t=function(e,t,a){var s;let r=(s=e.key,"rtl"!==a?s:"ArrowLeft"===s?"ArrowRight":"ArrowRight"===s?"ArrowLeft":s);if(!("vertical"===t&&["ArrowLeft","ArrowRight"].includes(r))&&!("horizontal"===t&&["ArrowUp","ArrowDown"].includes(r)))return z[r]}(e,p.orientation,p.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let a=y().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)a.reverse();else if("prev"===t||"next"===t){"prev"===t&&a.reverse();let s=a.indexOf(e.currentTarget);a=p.loop?function(e,t){return e.map((a,s)=>e[(t+s)%e.length])}(a,s+1):a.slice(s+1)}setTimeout(()=>P(a))}}),children:"function"==typeof c?c({isCurrentTabStop:f,hasTabStop:null!=N}):c})})});S.displayName=C;var z={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function P(e,t=!1){let a=document.activeElement;for(let s of e)if(s===a||(s.focus({preventScroll:t}),document.activeElement!==a))return}var D=k,T=S},89128:(e,t,a)=>{"use strict";a.d(t,{VY:()=>T,aV:()=>P,fC:()=>z,xz:()=>D});var s=a(3729),r=a(85222),l=a(98462),i=a(34504),n=a(43234),d=a(74141),o=a(3975),c=a(33183),u=a(99048),x=a(95344),m="Tabs",[h,p]=(0,l.b)(m,[i.Pc]),f=(0,i.Pc)(),[g,j]=h(m),y=s.forwardRef((e,t)=>{let{__scopeTabs:a,value:s,onValueChange:r,defaultValue:l,orientation:i="horizontal",dir:n,activationMode:h="automatic",...p}=e,f=(0,o.gm)(n),[j,y]=(0,c.T)({prop:s,onChange:r,defaultProp:l??"",caller:m});return(0,x.jsx)(g,{scope:a,baseId:(0,u.M)(),value:j,onValueChange:y,orientation:i,dir:f,activationMode:h,children:(0,x.jsx)(d.WV.div,{dir:f,"data-orientation":i,...p,ref:t})})});y.displayName=m;var v="TabsList",b=s.forwardRef((e,t)=>{let{__scopeTabs:a,loop:s=!0,...r}=e,l=j(v,a),n=f(a);return(0,x.jsx)(i.fC,{asChild:!0,...n,orientation:l.orientation,dir:l.dir,loop:s,children:(0,x.jsx)(d.WV.div,{role:"tablist","aria-orientation":l.orientation,...r,ref:t})})});b.displayName=v;var N="TabsTrigger",w=s.forwardRef((e,t)=>{let{__scopeTabs:a,value:s,disabled:l=!1,...n}=e,o=j(N,a),c=f(a),u=C(o.baseId,s),m=S(o.baseId,s),h=s===o.value;return(0,x.jsx)(i.ck,{asChild:!0,...c,focusable:!l,active:h,children:(0,x.jsx)(d.WV.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":m,"data-state":h?"active":"inactive","data-disabled":l?"":void 0,disabled:l,id:u,...n,ref:t,onMouseDown:(0,r.Mj)(e.onMouseDown,e=>{l||0!==e.button||!1!==e.ctrlKey?e.preventDefault():o.onValueChange(s)}),onKeyDown:(0,r.Mj)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&o.onValueChange(s)}),onFocus:(0,r.Mj)(e.onFocus,()=>{let e="manual"!==o.activationMode;h||l||!e||o.onValueChange(s)})})})});w.displayName=N;var k="TabsContent",_=s.forwardRef((e,t)=>{let{__scopeTabs:a,value:r,forceMount:l,children:i,...o}=e,c=j(k,a),u=C(c.baseId,r),m=S(c.baseId,r),h=r===c.value,p=s.useRef(h);return s.useEffect(()=>{let e=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,x.jsx)(n.z,{present:l||h,children:({present:a})=>(0,x.jsx)(d.WV.div,{"data-state":h?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":u,hidden:!a,id:m,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:p.current?"0s":void 0},children:a&&i})})});function C(e,t){return`${e}-trigger-${t}`}function S(e,t){return`${e}-content-${t}`}_.displayName=k;var z=y,P=b,D=w,T=_}};var t=require("../../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[1638,5141,4124,5402,526,5834,6423,8536,5328,742,8635],()=>a(95047));module.exports=s})();