(()=>{var e={};e.id=8606,e.ids=[8606],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},53727:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>o.a,__next_app__:()=>p,originalPathname:()=>m,pages:()=>c,routeModule:()=>x,tree:()=>l});var a=s(50482),r=s(69108),n=s(62563),o=s.n(n),i=s(68300),d={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);s.d(t,d);let l=["",{children:["admin",{children:["orders",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,32020)),"C:\\Users\\MISHTY5626\\Desktop\\Webhost\\newyearlp\\app\\admin\\orders\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,66294)),"C:\\Users\\MISHTY5626\\Desktop\\Webhost\\newyearlp\\app\\admin\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,82917)),"C:\\Users\\MISHTY5626\\Desktop\\Webhost\\newyearlp\\app\\layout.tsx"],template:[()=>Promise.resolve().then(s.bind(s,12612)),"C:\\Users\\MISHTY5626\\Desktop\\Webhost\\newyearlp\\app\\template.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,69361,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\MISHTY5626\\Desktop\\Webhost\\newyearlp\\app\\admin\\orders\\page.tsx"],m="/admin/orders/page",p={require:s,loadChunk:()=>Promise.resolve()},x=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/admin/orders/page",pathname:"/admin/orders",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},5043:(e,t,s)=>{Promise.resolve().then(s.bind(s,99270))},99270:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u});var a=s(95344),r=s(3729),n=s(61351),o=s(69436),i=s(16212),d=s(92549);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,s(69224).Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);var c=s(28765),m=s(62093),p=s(81036),x=s(20886);function u(){let[e,t]=(0,r.useState)([]),[s,u]=(0,r.useState)(!0),[h,f]=(0,r.useState)("");(0,r.useEffect)(()=>{(async function(){try{let e=await fetch("/api/admin/orders"),s=await e.json();Array.isArray(s)&&t(s)}catch(e){console.error("Failed to fetch orders",e)}finally{u(!1)}})()},[]);let j=async()=>{try{let e=await fetch("/api/admin/orders"),s=await e.json();Array.isArray(s)&&t(s)}catch(e){console.error(e)}},g=async()=>{await fetch("/api/admin/orders",{method:"POST"}),j()},y=async s=>{if(confirm("Are you sure you want to delete this order? This action cannot be undone."))try{(await fetch(`/api/admin/orders/${s}`,{method:"DELETE"})).ok?t(e.filter(e=>e.id!==s)):alert("Failed to delete order")}catch(e){console.error("Delete error:",e),alert("Error deleting order")}},N=e=>{switch(e){case"paid":return a.jsx(o.C,{className:"bg-green-500 hover:bg-green-600",children:"Paid"});case"initiated":return a.jsx(o.C,{variant:"secondary",children:"Initiated"});case"payment_failed":return a.jsx(o.C,{variant:"destructive",children:"Failed"});default:return a.jsx(o.C,{variant:"outline",children:e})}},b=e=>{switch(e){case"completed":return a.jsx(o.C,{className:"bg-blue-500 hover:bg-blue-600",children:"Completed"});case"pending":return a.jsx(o.C,{variant:"outline",className:"text-yellow-600 border-yellow-200 bg-yellow-50",children:"Pending"});default:return null}},w=e.filter(e=>e.customer_name?.toLowerCase().includes(h.toLowerCase())||e.customer_email?.toLowerCase().includes(h.toLowerCase())||e.razorpay_order_id?.toLowerCase().includes(h.toLowerCase()));return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Orders & Payments"}),a.jsx("p",{className:"text-muted-foreground",children:"Manage transaction history and revenue."})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[a.jsx(i.z,{variant:"outline",onClick:g,children:"+ Create Dummy Order"}),(0,a.jsxs)(i.z,{variant:"outline",children:[a.jsx(l,{className:"mr-2 h-4 w-4"})," Filter"]}),a.jsx(i.z,{children:"Export CSV"})]})]}),(0,a.jsxs)(n.Zb,{children:[a.jsx(n.Ol,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx(n.ll,{children:"Recent Transactions"}),(0,a.jsxs)("div",{className:"relative w-72",children:[a.jsx(c.Z,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),a.jsx(d.I,{placeholder:"Search orders...",className:"pl-8",value:h,onChange:e=>f(e.target.value)})]})]})}),a.jsx(n.aY,{children:(0,a.jsxs)(p.iA,{children:[a.jsx(p.xD,{children:(0,a.jsxs)(p.SC,{children:[a.jsx(p.ss,{children:"Order ID"}),a.jsx(p.ss,{children:"Customer"}),a.jsx(p.ss,{children:"Status"}),a.jsx(p.ss,{children:"Onboarding"}),a.jsx(p.ss,{className:"text-right",children:"Amount"}),a.jsx(p.ss,{className:"text-right",children:"Date"}),a.jsx(p.ss,{className:"text-right",children:"Actions"})]})}),a.jsx(p.RM,{children:s?a.jsx(p.SC,{children:a.jsx(p.pj,{colSpan:7,className:"text-center h-24",children:"Loading transactions..."})}):0===w.length?a.jsx(p.SC,{children:a.jsx(p.pj,{colSpan:7,className:"text-center h-24 text-muted-foreground",children:"No orders found."})}):w.map(e=>(0,a.jsxs)(p.SC,{children:[a.jsx(p.pj,{className:"font-mono text-xs",children:e.razorpay_order_id}),a.jsx(p.pj,{children:(0,a.jsxs)("div",{className:"flex flex-col",children:[a.jsx("span",{className:"font-medium",children:e.customer_name}),a.jsx("span",{className:"text-xs text-muted-foreground",children:e.customer_email})]})}),a.jsx(p.pj,{children:N(e.status)}),a.jsx(p.pj,{children:b(e.onboarding_status)}),(0,a.jsxs)(p.pj,{className:"text-right font-bold",children:["â‚¹",e.amount]}),a.jsx(p.pj,{className:"text-right text-muted-foreground text-sm",children:new Date(e.created_at).toLocaleDateString()}),a.jsx(p.pj,{className:"text-right",children:(0,a.jsxs)(x.h_,{children:[a.jsx(x.$F,{asChild:!0,children:(0,a.jsxs)(i.z,{variant:"ghost",className:"h-8 w-8 p-0",children:[a.jsx("span",{className:"sr-only",children:"Open menu"}),a.jsx(m.Z,{className:"h-4 w-4"})]})}),(0,a.jsxs)(x.AW,{align:"end",children:[a.jsx(x.Ju,{children:"Actions"}),a.jsx(x.Xi,{onClick:()=>navigator.clipboard.writeText(e.razorpay_order_id),children:"Copy Order ID"}),a.jsx(x.VD,{}),a.jsx(x.Xi,{asChild:!0,children:a.jsx("a",{href:`/admin/orders/${e.id}`,children:"View Full Details"})}),a.jsx(x.VD,{}),a.jsx(x.Xi,{className:"text-red-600 focus:text-red-600 focus:bg-red-50 cursor-pointer",onClick:()=>y(e.id),children:"Delete Order"})]})]})})]},e.id))})]})})]})]})}},20886:(e,t,s)=>{"use strict";s.d(t,{$F:()=>m,AW:()=>p,Ju:()=>u,VD:()=>h,Xi:()=>x,h_:()=>c});var a=s(95344),r=s(3729),n=s(35757),o=s(97751),i=s(62312),d=s(82958),l=s(91626);let c=n.fC,m=n.xz;n.ZA,n.Uv,n.Tr,n.Ee,r.forwardRef(({className:e,inset:t,children:s,...r},i)=>(0,a.jsxs)(n.fF,{ref:i,className:(0,l.cn)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[s,a.jsx(o.Z,{className:"ml-auto h-4 w-4"})]})).displayName=n.fF.displayName,r.forwardRef(({className:e,...t},s)=>a.jsx(n.tu,{ref:s,className:(0,l.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t})).displayName=n.tu.displayName;let p=r.forwardRef(({className:e,sideOffset:t=4,...s},r)=>a.jsx(n.Uv,{children:a.jsx(n.VY,{ref:r,sideOffset:t,className:(0,l.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s})}));p.displayName=n.VY.displayName;let x=r.forwardRef(({className:e,inset:t,...s},r)=>a.jsx(n.ck,{ref:r,className:(0,l.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...s}));x.displayName=n.ck.displayName,r.forwardRef(({className:e,children:t,checked:s,...r},o)=>(0,a.jsxs)(n.oC,{ref:o,className:(0,l.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:s,...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(n.wU,{children:a.jsx(i.Z,{className:"h-4 w-4"})})}),t]})).displayName=n.oC.displayName,r.forwardRef(({className:e,children:t,...s},r)=>(0,a.jsxs)(n.Rk,{ref:r,className:(0,l.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(n.wU,{children:a.jsx(d.Z,{className:"h-2 w-2 fill-current"})})}),t]})).displayName=n.Rk.displayName;let u=r.forwardRef(({className:e,inset:t,...s},r)=>a.jsx(n.__,{ref:r,className:(0,l.cn)("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...s}));u.displayName=n.__.displayName;let h=r.forwardRef(({className:e,...t},s)=>a.jsx(n.Z0,{ref:s,className:(0,l.cn)("-mx-1 my-1 h-px bg-muted",e),...t}));h.displayName=n.Z0.displayName},32020:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>n,__esModule:()=>r,default:()=>o});let a=(0,s(86843).createProxy)(String.raw`C:\Users\MISHTY5626\Desktop\Webhost\newyearlp\app\admin\orders\page.tsx`),{__esModule:r,$$typeof:n}=a,o=a.default}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[1638,5141,4124,5402,526,5834,6423,8536,5368,3884],()=>s(53727));module.exports=a})();